class Solution {
public:
    int numTeams(vector<int>& rating) {
        int n = rating.size();
    int count = 0;

    for (int j = 0; j < n; j++) {
        int smallerLeft = 0, largerLeft = 0;
        int smallerRight = 0, largerRight = 0;

        // Count elements on the left of j
        for (int i = 0; i < j; i++) {
            if (rating[i] < rating[j]) smallerLeft++;
            if (rating[i] > rating[j]) largerLeft++;
        }

        // Count elements on the right of j
        for (int k = j + 1; k < n; k++) {
            if (rating[k] < rating[j]) smallerRight++;
            if (rating[k] > rating[j]) largerRight++;
        }

        count += smallerLeft * largerRight;  // increasing
        count += largerLeft * smallerRight;  // decreasing
    }

    return count;
    }
};
